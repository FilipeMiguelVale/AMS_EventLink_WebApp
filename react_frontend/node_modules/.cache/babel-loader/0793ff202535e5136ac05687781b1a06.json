{"ast":null,"code":"import _regeneratorRuntime from\"/home/filipe/Desktop/PEI/git/PEI/react_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/filipe/Desktop/PEI/git/PEI/react_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";/*!\n\n=========================================================\n* Argon Dashboard React - v1.1.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/argon-dashboard-react\n* Copyright 2019 Creative Tim (https://www.creative-tim.com)\n* Licensed under MIT (https://github.com/creativetimofficial/argon-dashboard-react/blob/master/LICENSE.md)\n\n* Coded by Creative Tim\n\n=========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\n*/import React from\"react\";import{Redirect}from\"react-router-dom\";import\"../../assets/css/custom.css\";// reactstrap components\nimport{Badge,Card,CardHeader,Media,Table,Container,Row,Button,Col,Progress,DropdownToggle,DropdownMenu,DropdownItem,ButtonDropdown,Input}from\"reactstrap\";// core components\nimport Header from\"../../components/Headers/Header.js\";import Maps from\"./Maps_Component.js\";class Users_table extends React.Component{constructor(props){var _this;super(props);_this=this;this.getData=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response1,result1,i;return _regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"/all_users\");case 3:response1=_context.sent;_context.next=6;return response1.json();case 6:result1=_context.sent;if(result1.length===0){_this.setState(prevState=>({error:\"No users to Show\"}));}else if(_this.state.edit_mode.length==0){for(i=0;i<result1.length;i++){_this.state.edit_mode.push(false);}}_this.setState(prevState=>({table_data:result1,error:false}));_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);_this.setState(prevState=>({error:\"No users to Show\"}));case 14:case\"end\":return _context.stop();}},_callee,null,[[0,11]]);}));this.renderArray=(value,index)=>{if(this.state.edit_mode[parseInt(index)]){return/*#__PURE__*/React.createElement(\"tr\",{key:index},/*#__PURE__*/React.createElement(\"th\",{scope:\"row\",style:{textAlign:\"center\"}},/*#__PURE__*/React.createElement(\"span\",{className:\"mb-0 text-sm\"},value[\"id\"])),/*#__PURE__*/React.createElement(\"th\",{scope:\"row\",style:{textAlign:\"center\"}},/*#__PURE__*/React.createElement(\"span\",{className:\"mb-0 text-sm\"},/*#__PURE__*/React.createElement(Input,{className:\"form-control-alternative\",id:\"Username\",placeholder:value[\"Username\"],type:\"text\",name:\"Username\",value:value[\"Username\"],onChange:e=>this.handleChange2(e,index)}))),/*#__PURE__*/React.createElement(\"th\",{scope:\"row\",style:{textAlign:\"center\"}},/*#__PURE__*/React.createElement(\"span\",{className:\"mb-0 text-sm\"},/*#__PURE__*/React.createElement(Input,{className:\"form-control-alternative\",id:\"email\",placeholder:value[\"email\"],type:\"text\",name:\"email\",value:value[\"email\"],onChange:e=>this.handleChange2(e,index)}))),/*#__PURE__*/React.createElement(\"th\",{scope:\"row\",style:{textAlign:\"center\"}},/*#__PURE__*/React.createElement(\"span\",{className:\"mb-0 text-sm\"},/*#__PURE__*/React.createElement(Input,{className:\"form-control-alternative\",id:\"city\",placeholder:value[\"city\"],type:\"text\",name:\"city\",value:value[\"city\"],onChange:e=>this.handleChange2(e,index)}))),/*#__PURE__*/React.createElement(\"th\",{scope:\"row\",style:{textAlign:\"center\"}},/*#__PURE__*/React.createElement(\"span\",{className:\"mb-0 text-sm\"},/*#__PURE__*/React.createElement(Input,{className:\"form-control-alternative\",id:\"role\",placeholder:value[\"role\"],type:\"text\",name:\"role\",value:value[\"role\"],onChange:e=>this.handleChange2(e,index)}))),/*#__PURE__*/React.createElement(\"th\",{scope:\"row\",style:{textAlign:\"center\"}},/*#__PURE__*/React.createElement(\"span\",{className:\"mb-0 text-sm\"},/*#__PURE__*/React.createElement(Input,{className:\"form-control-alternative\",id:\"input-username\",placeholder:value[\"role_type\"],type:\"text\",name:\"role_type\",value:value[\"role_type\"],onChange:e=>this.handleChange2(e,index)}))),/*#__PURE__*/React.createElement(\"th\",{scope:\"row\",style:{textAlign:\"center\"}},/*#__PURE__*/React.createElement(\"span\",{className:\"mb-0 text-sm\"},value[\"last_login\"])),/*#__PURE__*/React.createElement(\"th\",{scope:\"row\",style:{textAlign:\"center\"}},this.state.edit_mode[index]&&/*#__PURE__*/React.createElement(Button,{className:\"icon icon-shape bg-success text-white rounded-circle\",type:\"button\",onClick:e=>this.setEditMode(index,false)},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-check\"})),this.state.edit_mode[index]&&/*#__PURE__*/React.createElement(Button,{className:\"icon icon-shape bg-warning text-white rounded-circle\",type:\"button\",onClick:e=>this.setEditMode(index,false)},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-times\"})),/*#__PURE__*/React.createElement(Button,{className:\"icon icon-shape bg-yellow text-white rounded-circle\",type:\"button\",onClick:e=>this.setEditMode(index,true)},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-pencil-alt\"})),/*#__PURE__*/React.createElement(Button,{className:\"icon icon-shape bg-danger text-white rounded-circle\",type:\"button\",onClick:e=>this.handleDelete(value[\"email\"])},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-trash\"}))));}else{return/*#__PURE__*/React.createElement(\"tr\",{key:index},/*#__PURE__*/React.createElement(\"th\",{scope:\"row\",style:{textAlign:\"center\"}},/*#__PURE__*/React.createElement(\"span\",{className:\"mb-0 text-sm\"},value[\"id\"])),/*#__PURE__*/React.createElement(\"th\",{scope:\"row\",style:{textAlign:\"center\"}},/*#__PURE__*/React.createElement(\"span\",{className:\"mb-0 text-sm\"},value[\"Username\"])),/*#__PURE__*/React.createElement(\"th\",{scope:\"row\",style:{textAlign:\"center\"}},/*#__PURE__*/React.createElement(\"span\",{className:\"mb-0 text-sm\"},value[\"email\"])),/*#__PURE__*/React.createElement(\"th\",{scope:\"row\",style:{textAlign:\"center\"}},/*#__PURE__*/React.createElement(\"span\",{className:\"mb-0 text-sm\"},value[\"city\"])),/*#__PURE__*/React.createElement(\"th\",{scope:\"row\",style:{textAlign:\"center\"}},/*#__PURE__*/React.createElement(\"span\",{className:\"mb-0 text-sm\"},value[\"role\"])),/*#__PURE__*/React.createElement(\"th\",{scope:\"row\",style:{textAlign:\"center\"}},/*#__PURE__*/React.createElement(\"span\",{className:\"mb-0 text-sm\"},value[\"role_type\"])),/*#__PURE__*/React.createElement(\"th\",{scope:\"row\",style:{textAlign:\"center\"}},/*#__PURE__*/React.createElement(\"span\",{className:\"mb-0 text-sm\"},value[\"last_login\"])),/*#__PURE__*/React.createElement(\"th\",{scope:\"row\",style:{textAlign:\"center\"}},this.state.edit_mode[index]&&/*#__PURE__*/React.createElement(Button,{className:\"icon icon-shape bg-success text-white rounded-circle\",type:\"button\",onClick:e=>this.setEditMode(index,false)},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-check\"})),this.state.edit_mode[index]&&/*#__PURE__*/React.createElement(Button,{className:\"icon icon-shape bg-warning text-white rounded-circle\",type:\"button\",onClick:e=>this.setEditMode(index,false)},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-times\"})),/*#__PURE__*/React.createElement(Button,{className:\"icon icon-shape bg-yellow text-white rounded-circle\",type:\"button\",onClick:e=>this.setEditMode(index,true)},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-pencil-alt\"})),/*#__PURE__*/React.createElement(Button,{className:\"icon icon-shape bg-danger text-white rounded-circle\",type:\"button\",onClick:e=>this.handleDelete(value[\"email\"])},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-trash\"}))));}};this.handleClick=(e,id)=>{e.preventDefault();this.state.curent_page=id;this.getData();};this.timer=null;this.toggleDrop1=this.toggleDrop1.bind(this);this.changeValueDrop1=this.changeValueDrop1.bind(this);this.setEditMode=this.setEditMode.bind(this);this.NewUser=this.NewUser.bind(this);this.handleChange=this.handleChange.bind(this);this.handleChange2=this.handleChange2.bind(this);this.handleSubmit=this.handleSubmit.bind(this);this.state={table_data:[],table_buttons:[],curent_page:1,num_accidents:0,num_to_show:10,dropDown1Value:\"Date/Hour\",dropdownIndex:\"between\",dropDown1Open:false,error:false,edit_mode:[],addUser:false,new_email:\"\",new_role:\"\",new_roleType:\"\",new_city:\"\"};}handleChange(event){const target=event.target;const value=target.value;const name=target.name;this.setState({[name]:value});}handleChange2(event,id){const target=event.target;const value=target.value;const name=target.name;this.state.table_data[id][name]=value;this.setState({//table_data[0]=value\n});}handleSubmit(event){event.preventDefault();fetch('/add_user',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email:this.state.new_email,role:this.state.new_role,role_type:this.state.new_roleType,city:this.state.new_city})}).then(res=>res.json()).then(result=>{if(result['response']==\"Done\"){this.setState({addUser:false,new_email:\"\",new_role:\"\",new_roleType:\"\",new_city:\"\"});this.getData();}else{this.setState({error:result['error']});}},error=>{this.setState({isLoaded:true,error:\"error\"});});}handleDelete(mail){fetch('/delete_user/'+mail,{method:'POST'}).then(response=>response.json()).then(result=>{this.getData();});}renderButtons(){if(this.state.num_accidents>this.state.num_to_show){const Buttons=[];if(this.state.curent_page>1)Buttons.push(/*#__PURE__*/React.createElement(\"li\",{className:\"page-item\"},/*#__PURE__*/React.createElement(\"a\",{className:\"page-link\",onClick:e=>this.handleClick(e,this.state.curent_page-1)},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-angle-left\"}))));for(let i=1;i<Math.ceil(this.state.num_accidents/this.state.num_to_show)+1;i++){if(i==this.state.curent_page){Buttons.push(/*#__PURE__*/React.createElement(\"li\",{className:\"page-item active\"},/*#__PURE__*/React.createElement(\"a\",{className:\"page-link\",onClick:e=>this.handleClick(e,\"\".concat(i))},i)));}else{Buttons.push(/*#__PURE__*/React.createElement(\"li\",{className:\"page-item\"},/*#__PURE__*/React.createElement(\"a\",{className:\"page-link\",onClick:e=>this.handleClick(e,\"\".concat(i))},i)));}}if(this.state.curent_page<Math.ceil(this.state.num_accidents/this.state.num_to_show))Buttons.push(/*#__PURE__*/React.createElement(\"li\",{className:\"page-item\"},/*#__PURE__*/React.createElement(\"a\",{className:\"page-link\",onClick:e=>this.handleClick(e,parseInt(this.state.curent_page)+1)},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-angle-right\"}))));return/*#__PURE__*/React.createElement(\"div\",{className:\"row justify-content-center\"},/*#__PURE__*/React.createElement(\"nav\",{\"aria-label\":\"Page navigation example\"},/*#__PURE__*/React.createElement(\"ul\",{className:\"pagination\"},Buttons)));}else{return;}}componentDidMount(){this.getData();this.timer=setInterval(()=>this.getData(),10000);}componentWillUnmount(){clearInterval(this.timer);this.timer=null;}/* DropDown functions */toggleDrop1(){this.setState({dropDown1Open:!this.state.dropDown1Open});}changeValueDrop1(e,id){const a=[\"\",\"between\",\"cars\",\"people\",\"injured\",\"severity\",\"status\"];this.state.dropDown1Value=e.currentTarget.textContent;this.state.dropdownIndex=\"\".concat(a[id]);this.getData(id);}setEditMode(index,value){this.state.edit_mode[parseInt(index)]=value;this.setState(prevState=>({}));}NewUser(){this.setState(prevState=>({addUser:!this.state.addUser}));}/**************************/render(){if(this.state.error){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Header,null),/*#__PURE__*/React.createElement(Container,{className:\"mt--7\",fluid:true},/*#__PURE__*/React.createElement(Row,{className:\"mt-5\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(Card,{className:\"shadow\"},/*#__PURE__*/React.createElement(CardHeader,{className:\"bg-transparent border-0\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(\"div\",{className:\"row ml\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"mb-0\",style:{paddingLeft:20}},\"Users\"))))),/*#__PURE__*/React.createElement(\"h1\",{className:\"text-danger mb-0\",style:{textAlign:\"center\"}},\" \",this.state.error),/*#__PURE__*/React.createElement(\"br\",null))))));}else{return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Header,null),/*#__PURE__*/React.createElement(Container,{className:\"mt--7\",fluid:true},/*#__PURE__*/React.createElement(Row,{className:\"mt-5\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(Card,{className:\"shadow\"},/*#__PURE__*/React.createElement(CardHeader,{className:\"bg-transparent border-0\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(\"div\",{className:\"row ml\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"mb-0\",style:{paddingLeft:20,paddingRight:20}},\"Users\"),/*#__PURE__*/React.createElement(Button,{className:\"icon icon-shape bg-green text-white rounded-circle\",type:\"button\",onClick:e=>this.NewUser()},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-plus\"})))),/*#__PURE__*/React.createElement(Col,null,this.renderButtons()))),/*#__PURE__*/React.createElement(Table,{bordered:true,className:\"align-items-center table-flush\",hover:true},/*#__PURE__*/React.createElement(\"thead\",{className:\"thead-light\"},/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{scope:\"col \",style:{textAlign:\"center\"}},\"ID\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",style:{textAlign:\"center\"}},\"Username\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",style:{textAlign:\"center\"}},\"Email\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",style:{textAlign:\"center\"}},\"City\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",style:{textAlign:\"center\"}},\"Role\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",style:{textAlign:\"center\"}},\"Role ID\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",style:{textAlign:\"center\"}},\"Last Login\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\",style:{textAlign:\"center\"}}))),/*#__PURE__*/React.createElement(\"tbody\",null,this.state.addUser&&/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{scope:\"row\",style:{textAlign:\"center\"}}),/*#__PURE__*/React.createElement(\"th\",{scope:\"row\",style:{textAlign:\"center\"}}),/*#__PURE__*/React.createElement(\"th\",{scope:\"row\",style:{textAlign:\"center\"}},/*#__PURE__*/React.createElement(Input,{placeholder:\"email\",type:\"email\",name:\"new_email\",value:this.state.new_email,onChange:this.handleChange,autoComplete:\"new-password\"})),/*#__PURE__*/React.createElement(\"th\",{scope:\"row\",style:{textAlign:\"center\"}},/*#__PURE__*/React.createElement(Input,{placeholder:\"City\",type:\"email\",name:\"new_city\",value:this.state.new_city,onChange:this.handleChange,autoComplete:\"new-password\"})),/*#__PURE__*/React.createElement(\"th\",{scope:\"row\",style:{textAlign:\"center\"}},/*#__PURE__*/React.createElement(Input,{placeholder:\"Role\",type:\"email\",name:\"new_role\",value:this.state.new_role,onChange:this.handleChange,autoComplete:\"new-password\"})),/*#__PURE__*/React.createElement(\"th\",{scope:\"row\",style:{textAlign:\"center\"}},/*#__PURE__*/React.createElement(Input,{placeholder:\"Role ID\",type:\"email\",name:\"new_roleType\",value:this.state.new_roleType,onChange:this.handleChange,autoComplete:\"new-password\"})),/*#__PURE__*/React.createElement(\"th\",{scope:\"row\",style:{textAlign:\"center\"}}),/*#__PURE__*/React.createElement(\"th\",{scope:\"row\",style:{textAlign:\"center\"}},/*#__PURE__*/React.createElement(Button,{className:\"icon icon-shape bg-green text-white rounded-circle\",type:\"button\",onClick:this.handleSubmit},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-arrow-right\"})))),this.state[\"table_data\"].map(this.renderArray))),/*#__PURE__*/React.createElement(CardHeader,{className:\"bg-transparent border-0\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{className:\"row justify-content-center\"},this.renderButtons()))))))));}}}export default Users_table;","map":{"version":3,"sources":["/home/filipe/Desktop/PEI/git/PEI/react_frontend/src/views/examples/Users_table.js"],"names":["React","Redirect","Badge","Card","CardHeader","Media","Table","Container","Row","Button","Col","Progress","DropdownToggle","DropdownMenu","DropdownItem","ButtonDropdown","Input","Header","Maps","Users_table","Component","constructor","props","getData","fetch","response1","json","result1","length","setState","prevState","error","state","edit_mode","i","push","table_data","renderArray","value","index","parseInt","textAlign","e","handleChange2","setEditMode","handleDelete","handleClick","id","preventDefault","curent_page","timer","toggleDrop1","bind","changeValueDrop1","NewUser","handleChange","handleSubmit","table_buttons","num_accidents","num_to_show","dropDown1Value","dropdownIndex","dropDown1Open","addUser","new_email","new_role","new_roleType","new_city","event","target","name","method","headers","body","JSON","stringify","email","role","role_type","city","then","res","result","isLoaded","mail","response","renderButtons","Buttons","Math","ceil","componentDidMount","setInterval","componentWillUnmount","clearInterval","a","currentTarget","textContent","render","paddingLeft","paddingRight","map"],"mappings":"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","sourcesContent":["/*!\n\n=========================================================\n* Argon Dashboard React - v1.1.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/argon-dashboard-react\n* Copyright 2019 Creative Tim (https://www.creative-tim.com)\n* Licensed under MIT (https://github.com/creativetimofficial/argon-dashboard-react/blob/master/LICENSE.md)\n\n* Coded by Creative Tim\n\n=========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\n*/\nimport React from \"react\";\nimport {Redirect} from \"react-router-dom\";\nimport \"../../assets/css/custom.css\"\n\n// reactstrap components\nimport {\n    Badge,\n    Card,\n    CardHeader,\n    Media,\n    Table,\n    Container,\n    Row,\n    Button, Col, Progress, DropdownToggle, DropdownMenu, DropdownItem, ButtonDropdown, Input,\n} from \"reactstrap\";\n// core components\nimport Header from \"../../components/Headers/Header.js\";\nimport Maps from \"./Maps_Component.js\"\n\n\nclass Users_table extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.timer = null\n\n    this.toggleDrop1 = this.toggleDrop1.bind(this);\n    this.changeValueDrop1 = this.changeValueDrop1.bind(this);\n    this.setEditMode=this.setEditMode.bind(this)\n    this.NewUser = this.NewUser.bind(this)\n    this.handleChange = this.handleChange.bind(this);\n    this.handleChange2 = this.handleChange2.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this)\n    this.state = {\n      table_data : [],\n      table_buttons:[],\n      curent_page:1,\n      num_accidents:0,\n      num_to_show:10,\n      dropDown1Value: \"Date/Hour\",\n      dropdownIndex:\"between\",\n      dropDown1Open: false,\n      error:false,\n      edit_mode:[],\n      addUser:false,\n      new_email:\"\",\n      new_role:\"\",\n      new_roleType:\"\",\n      new_city:\"\"\n    }\n  }\n\n  handleChange(event) {\n    const target = event.target;\n    const value = target.value;\n    const name = target.name;\n     this.setState({\n      [name]: value\n    });\n\n  }\n\n  handleChange2(event,id) {\n    const target = event.target;\n    const value = target.value;\n    const name = target.name;\n\n    this.state.table_data[id][name]=value\n    this.setState({\n      //table_data[0]=value\n    });\n  }\n   \n  handleSubmit(event) {\n    event.preventDefault();\n    fetch('/add_user', {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({\n      email: this.state.new_email,\n      role: this.state.new_role,\n      role_type: this.state.new_roleType,\n      city: this.state.new_city\n    }),\n    }).then(res => res.json())\n      .then(\n        (result) => {\n          if(result['response']==\"Done\"){\n            this.setState({\n                addUser: false,\n                new_email:\"\",\n                new_role:\"\",\n                new_roleType:\"\",\n                new_city:\"\"\n              }\n            )\n            this.getData()\n          }\n            \n          else{\n            this.setState({ error: result['error'] });\n\n          }\n        },\n        (error) => {\n          this.setState({\n            isLoaded: true,\n            error: \"error\"\n          });\n        }\n      )\n  }\n\n  handleDelete(mail){\n    fetch('/delete_user/' + mail,{method: 'POST'}).then(\n      response => response.json()\n    ).then(\n     result =>{\n      this.getData()\n     } \n    )\n\n  }\n\n  getData = async () => {\n      try {\n        const response1 = await fetch(\n          `/all_users`\n        );\n\n        const result1 = await response1.json();\n        if(result1.length===0){\n            this.setState(\n             prevState => (\n                 {\n                     error: \"No users to Show\"\n                 }\n             )\n         );}\n        else\n              if (this.state.edit_mode.length==0){\n                 for (let i = 0; i < result1.length; i++) {\n                      this.state.edit_mode.push(false)\n                    }\n             }\n              this.setState(\n                  prevState => (\n                      {\n                          table_data: result1,\n                          error: false\n                      }\n                  )\n              );\n      }\n    catch(e){\n         this.setState(\n             prevState => (\n                 {\n                     error: \"No users to Show\"\n                 }\n             )\n         );\n     }\n  }\n\n  renderArray = (value,index) => {\n    if (this.state.edit_mode[parseInt(index)]){\n        return (\n            <tr key={index}>\n                <th scope=\"row\" style={{textAlign: \"center\"}}>\n                  <span className=\"mb-0 text-sm\">\n                    {value[\"id\"]}\n                  </span>\n                </th>\n                <th scope=\"row\" style={{textAlign: \"center\"}}>\n                  <span className=\"mb-0 text-sm\">\n                    <Input\n                      className=\"form-control-alternative\"\n                      id=\"Username\"\n                      placeholder={value[\"Username\"]}\n                      type=\"text\"\n                      name=\"Username\"\n                      value={value[\"Username\"]}\n                      onChange={(e) => this.handleChange2(e,index)}\n                    />\n                  </span>\n                </th>\n                <th scope=\"row\" style={{textAlign: \"center\"}}>\n          <span className=\"mb-0 text-sm\">\n              <Input\n                      className=\"form-control-alternative\"\n                      id=\"email\"\n                      placeholder={value[\"email\"]}\n                      type=\"text\"\n                      name=\"email\"\n                      value={value[\"email\"]}\n                      onChange={(e) => this.handleChange2(e,index)}\n                    />\n          </span>\n                </th>\n                <th scope=\"row\" style={{textAlign: \"center\"}}>\n          <span className=\"mb-0 text-sm\">\n              <Input\n                      className=\"form-control-alternative\"\n                      id=\"city\"\n                      placeholder={value[\"city\"]}\n                      type=\"text\"\n                      name=\"city\"\n                      value={value[\"city\"]}\n                      onChange={(e) => this.handleChange2(e,index)}\n                    />\n          </span>\n                </th>\n                <th scope=\"row\" style={{textAlign: \"center\"}}>\n          <span className=\"mb-0 text-sm\">\n              <Input\n                      className=\"form-control-alternative\"\n                      id=\"role\"\n                      placeholder={value[\"role\"]}\n                      type=\"text\"\n                      name=\"role\"\n                      value={value[\"role\"]}\n                      onChange={(e) => this.handleChange2(e,index)}\n                    />\n          </span>\n                </th>\n                <th scope=\"row\" style={{textAlign: \"center\"}}>\n          <span className=\"mb-0 text-sm\">\n              <Input\n                      className=\"form-control-alternative\"\n                      id=\"input-username\"\n                      placeholder={value[\"role_type\"]}\n                      type=\"text\"\n                      name=\"role_type\"\n                      value={value[\"role_type\"]}\n                      onChange={(e) => this.handleChange2(e,index)}\n                    />\n          </span>\n                </th>\n                <th scope=\"row\" style={{textAlign: \"center\"}}>\n          <span className=\"mb-0 text-sm\">\n            {value[\"last_login\"]}\n          </span>\n                </th>\n                <th scope=\"row\" style={{textAlign: \"center\"}}>\n                    {this.state.edit_mode[index] && (\n                        <Button\n                            className=\"icon icon-shape bg-success text-white rounded-circle\"\n                            type=\"button\"\n                            onClick={(e) => this.setEditMode(index, false)}\n                        >\n                            <i className=\"fas fa-check\"></i>\n                        </Button>\n                    )}\n                    {this.state.edit_mode[index] && (\n                        <Button\n                            className=\"icon icon-shape bg-warning text-white rounded-circle\"\n                            type=\"button\"\n                            onClick={(e) => this.setEditMode(index, false)}\n                        >\n                            <i className=\"fas fa-times\"></i>\n                        </Button>\n                    )}\n                    <Button\n                        className=\"icon icon-shape bg-yellow text-white rounded-circle\"\n                        type=\"button\"\n                        onClick={(e) => this.setEditMode(index, true)}\n                    >\n                        <i className=\"fas fa-pencil-alt\"></i>\n                    </Button>\n                    {/* delete button */}\n                    <Button\n                        className=\"icon icon-shape bg-danger text-white rounded-circle\"\n                        type=\"button\"\n                        onClick={(e) => this.handleDelete(value[\"email\"])}\n                    >\n                        <i className=\"fas fa-trash\"/>\n                    </Button>\n                </th>\n            </tr>\n        )\n    }\n\n    else {\n        return (\n\n            <tr key={index}>\n                <th scope=\"row\" style={{textAlign: \"center\"}}>\n          <span className=\"mb-0 text-sm\">\n            {value[\"id\"]}\n          </span>\n                </th>\n                <th scope=\"row\" style={{textAlign: \"center\"}}>\n          <span className=\"mb-0 text-sm\">\n            {value[\"Username\"]}\n          </span>\n                </th>\n                <th scope=\"row\" style={{textAlign: \"center\"}}>\n          <span className=\"mb-0 text-sm\">\n            {value[\"email\"]}\n          </span>\n                </th>\n                <th scope=\"row\" style={{textAlign: \"center\"}}>\n          <span className=\"mb-0 text-sm\">\n            {value[\"city\"]}\n          </span>\n                </th>\n                <th scope=\"row\" style={{textAlign: \"center\"}}>\n          <span className=\"mb-0 text-sm\">\n            {value[\"role\"]}\n          </span>\n                </th>\n                <th scope=\"row\" style={{textAlign: \"center\"}}>\n          <span className=\"mb-0 text-sm\">\n            {value[\"role_type\"]}\n          </span>\n                </th>\n                <th scope=\"row\" style={{textAlign: \"center\"}}>\n          <span className=\"mb-0 text-sm\">\n            {value[\"last_login\"]}\n          </span>\n                </th>\n                <th scope=\"row\" style={{textAlign: \"center\"}}>\n                    {this.state.edit_mode[index] && (\n                        <Button\n                            className=\"icon icon-shape bg-success text-white rounded-circle\"\n                            type=\"button\"\n                            onClick={(e) => this.setEditMode(index, false)}\n                        >\n                            <i className=\"fas fa-check\"></i>\n                        </Button>\n                    )}\n                    {this.state.edit_mode[index] && (\n                        <Button\n                            className=\"icon icon-shape bg-warning text-white rounded-circle\"\n                            type=\"button\"\n                            onClick={(e) => this.setEditMode(index, false)}\n                        >\n                            <i className=\"fas fa-times\"></i>\n                        </Button>\n                    )}\n                    <Button\n                        className=\"icon icon-shape bg-yellow text-white rounded-circle\"\n                        type=\"button\"\n                        onClick={(e) => this.setEditMode(index, true)}\n                    >\n                        <i className=\"fas fa-pencil-alt\"></i>\n                    </Button>\n                    {/* delete button */}\n                    <Button\n                        className=\"icon icon-shape bg-danger text-white rounded-circle\"\n                        type=\"button\"\n                        onClick={(e) => this.handleDelete(value[\"email\"])}\n                    >\n                        <i className=\"fas fa-trash\"/>\n                    </Button>\n                </th>\n            </tr>\n        )\n    }\n  }\n\n  renderButtons(){\n     if(this.state.num_accidents > this.state.num_to_show){\n      const Buttons = []\n      if(this.state.curent_page >1)\n        Buttons.push(\n            <li className=\"page-item\">\n                <a className=\"page-link\" onClick={(e)=>this.handleClick(e,this.state.curent_page-1)}>\n                    <i className=\"fas fa-angle-left\"/>\n                </a>\n            </li>\n        )\n      for (let i = 1; i < Math.ceil(this.state.num_accidents/this.state.num_to_show)+1; i++) {\n        if(i==this.state.curent_page){\n          Buttons.push(<li className=\"page-item active\"><a className=\"page-link\" onClick={(e)=>this.handleClick(e,`${i}`)}>{i}</a></li>)\n        }\n        else{\n          Buttons.push(<li className=\"page-item\"><a className=\"page-link\" onClick={(e)=>this.handleClick(e,`${i}`)}>{i}</a></li>)\n        }\n      }\n      if(this.state.curent_page < Math.ceil(this.state.num_accidents/this.state.num_to_show) )\n        Buttons.push(\n            <li className=\"page-item\">\n                <a className=\"page-link\" onClick={(e)=>this.handleClick(e,parseInt(this.state.curent_page)+1)}>\n                    <i className=\"fas fa-angle-right\"/>\n                </a>\n            </li>\n        )\n\n      return(\n              <div className=\"row justify-content-center\">\n                 <nav aria-label=\"Page navigation example\">\n                     <ul className=\"pagination\">\n                        {Buttons}\n                     </ul>\n                 </nav>\n              </div>\n      )}\n      else{\n          return\n      }\n  }\n\n  componentDidMount() {\n    this.getData();\n    this.timer = setInterval(() => this.getData(), 10000)\n  }\n\n  componentWillUnmount(){\n    clearInterval(this.timer)\n    this.timer = null\n  }\n\n  handleClick = (e,id) => {\n    e.preventDefault();\n    this.state.curent_page=id\n    this.getData();\n  };\n\n /* DropDown functions */\n  toggleDrop1() {\n    this.setState({dropDown1Open: !this.state.dropDown1Open});\n  }\n\n  changeValueDrop1(e,id) {\n\n      const a = [\"\",\"between\",\"cars\",\"people\",\"injured\",\"severity\",\"status\"]\n      this.state.dropDown1Value= e.currentTarget.textContent\n      this.state.dropdownIndex= `${a[id]}`\n      this.getData(id)\n  }\n  setEditMode(index,value){\n      this.state.edit_mode[parseInt(index)]=value\n      this.setState(\n                  prevState => (\n                      {\n\n                      }\n                  )\n              );\n  }\n  NewUser(){\n      this.setState(\n                  prevState => (\n                      {\n                        addUser:!this.state.addUser\n                      }\n                  )\n              );\n  }\n\n\n  /**************************/\n\n  render() {\n      if(this.state.error ){\n        return (\n         <>\n        <Header />\n        {/* Page content */}\n        <Container className=\"mt--7\" fluid>\n          {/* Dark table */}\n          <Row className=\"mt-5\">\n            <div className=\"col\">\n              <Card className=\"shadow\">\n                <CardHeader className=\"bg-transparent border-0\">\n                  <Row >\n                    <Col>\n                      <div className=\"row ml\">\n                        <h1 className=\"mb-0\" style={{ paddingLeft: 20}} >Users</h1>\n                      </div>\n                    </Col>\n                  </Row>\n                </CardHeader>\n                <h1 className=\"text-danger mb-0\" style={{textAlign:\"center\"}}> {this.state.error}</h1>\n                  <br/>\n              </Card>\n            </div>\n          </Row>\n        </Container>\n      </>);\n    }else{\n    return (\n      <>\n        <Header />\n        {/* Page content */}\n        <Container className=\"mt--7\" fluid>\n          {/* Dark table */}\n          <Row className=\"mt-5\">\n            <div className=\"col\">\n              <Card className=\"shadow\">\n                <CardHeader className=\"bg-transparent border-0\">\n                  <Row >\n                    <Col>\n                      <div className=\"row ml\">\n                        <h1 className=\"mb-0\" style={{ paddingLeft: 20, paddingRight: 20}} >Users</h1>\n                        <Button\n                            className=\"icon icon-shape bg-green text-white rounded-circle\"\n                            type=\"button\"\n                            onClick={(e)=>this.NewUser()}\n                        >\n                         <i className=\"fas fa-plus\"/>\n                       </Button>\n                      </div>\n                    </Col>\n                    <Col >\n                      {this.renderButtons()}\n                    </Col>\n                  </Row>\n                </CardHeader>\n                <Table bordered\n                  className=\"align-items-center table-flush\"\n                  hover\n                >\n                  <thead className=\"thead-light\">\n                    <tr >\n                      <th scope=\"col \" style={{textAlign:\"center\"}}>ID</th>\n                      <th scope=\"col\"  style={{textAlign:\"center\"}}>Username</th>\n                      <th scope=\"col\" style={{textAlign:\"center\"}}>Email</th>\n                      <th scope=\"col\" style={{textAlign:\"center\"}}>City</th>\n                      <th scope=\"col\" style={{textAlign:\"center\"}}>Role</th>\n                      <th scope=\"col\" style={{textAlign:\"center\"}}>Role ID</th>\n                      <th scope=\"col\" style={{textAlign:\"center\"}}>Last Login</th>\n                      <th scope=\"col\" style={{textAlign:\"center\"}}   />\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {this.state.addUser && (\n                        <tr  >\n                            <th scope = \"row\" style={{textAlign:\"center\"}}>\n                                {/*id*/}\n                            </th>\n                            <th scope = \"row\" style={{textAlign:\"center\"}}>\n                            {/*Username*/}\n                            </th>\n                            <th scope = \"row\" style={{textAlign:\"center\"}}>\n                                <Input placeholder=\"email\" type=\"email\" name = \"new_email\" value = {this.state.new_email}  onChange={this.handleChange} autoComplete=\"new-password\"/>\n                            </th>\n                            <th scope = \"row\" style={{textAlign:\"center\"}}>\n                               <Input placeholder=\"City\" type=\"email\" name = \"new_city\" value = {this.state.new_city}  onChange={this.handleChange} autoComplete=\"new-password\"/>\n                            </th>\n                            <th scope = \"row\" style={{textAlign:\"center\"}}>\n                               <Input placeholder=\"Role\" type=\"email\" name = \"new_role\" value = {this.state.new_role}  onChange={this.handleChange} autoComplete=\"new-password\"/>\n                            </th>\n                            <th scope = \"row\" style={{textAlign:\"center\"}}>\n                                <Input placeholder=\"Role ID\" type=\"email\" name = \"new_roleType\" value = {this.state.new_roleType}  onChange={this.handleChange} autoComplete=\"new-password\"/>\n                            </th>\n                            <th scope = \"row\" style={{textAlign:\"center\"}}>\n\n                            </th>\n                            <th scope = \"row\" style={{textAlign:\"center\"}}>\n                                <Button\n                                    className=\"icon icon-shape bg-green text-white rounded-circle\"\n                                    type=\"button\"\n                                    onClick={this.handleSubmit}\n                                >\n                                    <i className=\"fas fa-arrow-right\"></i>\n                               </Button>\n                            </th>\n                          </tr>\n                    )}\n                    {this.state[\"table_data\"].map(this.renderArray)}\n                  </tbody>\n                </Table>\n                <CardHeader className=\"bg-transparent border-0\">\n                  <Row >\n                    <Col className=\"row justify-content-center\">\n                      {this.renderButtons()}\n                    </Col>\n                  </Row>\n                </CardHeader>\n              </Card>\n            </div>\n          </Row>\n        </Container>\n      </>\n    );\n  }}\n}\n\nexport default Users_table;\n"]},"metadata":{},"sourceType":"module"}