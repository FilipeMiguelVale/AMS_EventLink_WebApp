{"ast":null,"code":"import _regeneratorRuntime from\"/home/filipe/Desktop/PEI/git/PEI/react_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/filipe/Desktop/PEI/git/PEI/react_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";/*!\n\n=========================================================\n* Argon Dashboard React - v1.1.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/argon-dashboard-react\n* Copyright 2019 Creative Tim (https://www.creative-tim.com)\n* Licensed under MIT (https://github.com/creativetimofficial/argon-dashboard-react/blob/master/LICENSE.md)\n\n* Coded by Creative Tim\n\n=========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\n*/import React from\"react\";// reactstrap components\nimport{Button,Card,CardHeader,CardBody,FormGroup,Form,Input,Container,Row,Col}from\"reactstrap\";// core components\nimport UserHeader from\"../../components/Headers/UserHeader.js\";import{Redirect}from\"react-router-dom\";class Edit_profile extends React.Component{constructor(props){var _this;super(props);_this=this;this.getData=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"/home\");case 3:response=_context.sent;_context.next=6;return response.json();case 6:result=_context.sent;console.log(result);_this.setState(prevState=>({Username:result[\"Username\"],email:result[\"email\"],about:result[\"about\"],address:result[\"address\"],birth_date:result[\"birth_date\"],country:result[\"country\"],first_name:result[\"first_name\"],last_name:result[\"last_name\"],postal_code:result[\"postal_code\"],profession:result[\"profession\"],telephone:result[\"telephone\"],work_institution:result[\"work_institution\"]}));_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);_this.setState(prevState=>({error:\"No accidents do Show\"}));case 14:case\"end\":return _context.stop();}},_callee,null,[[0,11]]);}));this.onSaveChanges=()=>{fetch('/update_user',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({Username:this.state.Username,email:this.state.email,about:this.state.about,address:this.state.address,birth_date:this.state.birth_date,country:this.state.country,first_name:this.state.first_name,last_name:this.state.last_name,postal_code:this.state.postal_code,profession:this.state.profession,telephone:this.state.telephone,work_institution:this.state.work_institution})}).then(res=>res.json()).then(result=>{console.log(\"teste\");console.log(result);if(result['response']==\"Done\")this.props.history.push(\"/admin\");else{this.setState({error:result['error']});}},error=>{console.log(\"error\");this.setState({isLoaded:true,error:\"error\"});});};this.state={user:[],Username:\"\",about:\"\",address:\"\",birth_date:\"\",city:\"\",country:\"\",email:\"\",first_name:\"\",last_name:\"\",postal_code:\"\",profession:\"\",telephone:\"\",work_institution:\"\"};this.handleChange=this.handleChange.bind(this);}componentDidMount(){this.getData();}handleChange(event){const target=event.target;const value=target.value;const name=target.name;this.setState({[name]:value});console.log(this.state);}render(){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(UserHeader,null),/*#__PURE__*/React.createElement(Container,{className:\"mt--7\",fluid:true},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Card,{className:\"bg-secondary shadow\"},/*#__PURE__*/React.createElement(CardHeader,{className:\"bg-white border-0\"},/*#__PURE__*/React.createElement(Row,{className:\"align-items-center\"},/*#__PURE__*/React.createElement(Col,{xs:\"8\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"mb-0\"},\"My account\")))),/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(Form,null,/*#__PURE__*/React.createElement(\"h6\",{className:\"heading-small text-muted mb-4\"},\"User information\"),/*#__PURE__*/React.createElement(\"div\",{className:\"pl-lg-4\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{lg:\"6\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(\"label\",{className:\"form-control-label\",htmlFor:\"input-username\"},\"Username\"),/*#__PURE__*/React.createElement(Input,{className:\"form-control-alternative\",id:\"input-username\",placeholder:this.state.Username,type:\"text\",name:\"Username\",value:this.state.Username,onChange:this.handleChange}))),/*#__PURE__*/React.createElement(Col,{lg:\"6\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(\"label\",{className:\"form-control-label\",htmlFor:\"input-email\"},\"Email address\"),/*#__PURE__*/React.createElement(Input,{className:\"form-control-alternative\",id:\"input-email\",name:\"email\",placeholder:this.state.email,type:\"email\",disabled:true})))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{lg:\"4\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(\"label\",{className:\"form-control-label\",htmlFor:\"input-first-name\"},\"First name\"),/*#__PURE__*/React.createElement(Input,{className:\"form-control-alternative\",id:\"input-first-name\",placeholder:this.state.user[\"first_name\"],type:\"text\",name:\"first_name\",value:this.state.user[\"first_name\"],onChange:this.handleChange}))),/*#__PURE__*/React.createElement(Col,{lg:\"4\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(\"label\",{className:\"form-control-label\",htmlFor:\"input-last-name\"},\"Last name\"),/*#__PURE__*/React.createElement(Input,{className:\"form-control-alternative\",id:\"input-last-name\",placeholder:this.state.user[\"last_name\"],type:\"text\",name:\"last_name\",value:this.state.user[\"last_name\"],onChange:this.handleChange}))),/*#__PURE__*/React.createElement(Col,{lg:\"4\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(\"label\",{className:\"form-control-label\",htmlFor:\"dateofbirth\"},\"Birth Date\"),/*#__PURE__*/React.createElement(Input,{className:\"form-control-alternative\",id:\"dateofbirth\",type:\"date\",name:\"birth_date\",value:this.state.user[\"birth_date\"],onChange:this.handleChange}))))),/*#__PURE__*/React.createElement(\"hr\",{className:\"my-4\"}),/*#__PURE__*/React.createElement(\"h6\",{className:\"heading-small text-muted mb-4\"},\"Contact information\"),/*#__PURE__*/React.createElement(\"div\",{className:\"pl-lg-4\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"12\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(\"label\",{className:\"form-control-label\",htmlFor:\"input-address\"},\"Address\"),/*#__PURE__*/React.createElement(Input,{className:\"form-control-alternative\",id:\"input-address\",placeholder:this.state.user[\"address\"],type:\"text\",name:\"address\",value:this.state.user[\"address\"],onChange:this.handleChange})))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{lg:\"4\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(\"label\",{className:\"form-control-label\",htmlFor:\"input-city\"},\"City\"),/*#__PURE__*/React.createElement(Input,{className:\"form-control-alternative\",id:\"input-city\",name:\"city\",placeholder:this.state.user[\"city\"],type:\"text\",disable:true}))),/*#__PURE__*/React.createElement(Col,{lg:\"4\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(\"label\",{className:\"form-control-label\",htmlFor:\"input-country\"},\"Country\"),/*#__PURE__*/React.createElement(Input,{className:\"form-control-alternative\",defaultValue:\"Portugal\",id:\"input-country\",placeholder:this.state.user[\"country\"],type:\"text\",name:\"country\",value:this.state.user[\"country\"],onChange:this.handleChange}))),/*#__PURE__*/React.createElement(Col,{lg:\"4\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(\"label\",{className:\"form-control-label\",htmlFor:\"input-country\"},\"Postal code\"),/*#__PURE__*/React.createElement(Input,{className:\"form-control-alternative\",id:\"input-postal-code\",placeholder:\"Postal code\",type:this.state.user[\"postal_code\"],value:this.state.user[\"postal_code\"],name:\"postal_code\",onChange:this.handleChange})))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{lg:\"4\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(\"label\",{className:\"form-control-label\",htmlFor:\"input-country\"},\"Telephone\"),/*#__PURE__*/React.createElement(Input,{className:\"form-control-alternative\",id:\"input-postal-code\",placeholder:this.state.user[\"telephone\"],value:this.state.user[\"telephone\"],onChange:this.handleChange,name:\"telephone\",type:\"number\"}))))),/*#__PURE__*/React.createElement(\"hr\",{className:\"my-4\"}),/*#__PURE__*/React.createElement(\"h6\",{className:\"heading-small text-muted mb-4\"},\"Institution\"),/*#__PURE__*/React.createElement(\"div\",{className:\"pl-lg-4\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{lg:\"6\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(\"label\",{className:\"form-control-label\",htmlFor:\"input-username\"},\"Work Institution\"),/*#__PURE__*/React.createElement(Input,{className:\"form-control-alternative\",id:\"input-username\",placeholder:this.state.user[\"work_institution\"],value:this.state.user[\"work_institution\"],onChange:this.handleChange,name:\"work_institution\",type:\"text\"}))),/*#__PURE__*/React.createElement(Col,{lg:\"6\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(\"label\",{className:\"form-control-label\",htmlFor:\"input-email\"},\"Profession\"),/*#__PURE__*/React.createElement(Input,{className:\"form-control-alternative\",id:\"input-email\",placeholder:this.state.user[\"profession\"],value:this.state.user[\"profession\"],onChange:this.handleChange,type:\"email\",name:\"profession\"}))))),/*#__PURE__*/React.createElement(\"hr\",{className:\"my-4\"}),/*#__PURE__*/React.createElement(\"h6\",{className:\"heading-small text-muted mb-4\"},\"About me\"),/*#__PURE__*/React.createElement(\"div\",{className:\"pl-lg-4\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(\"label\",null,\"About Me\"),/*#__PURE__*/React.createElement(Input,{className:\"form-control-alternative\",placeholder:\"A few words about you ...\",rows:\"4\",defaultValue:this.state.user[\"about\"],value:this.state.user[\"about\"],onChange:this.handleChange,type:\"textarea\",name:\"about\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"pl-lg-4\"},/*#__PURE__*/React.createElement(Row,{className:\"justify-content-center\"},/*#__PURE__*/React.createElement(Button,{color:\"info\",href:\"/#admin/user-profile\",onClick:this.onSaveChanges},\"Save Changes\"))))))))));}}export default Edit_profile;","map":{"version":3,"sources":["/home/filipe/Desktop/PEI/git/PEI/react_frontend/src/views/examples/Edit_profile.js"],"names":["React","Button","Card","CardHeader","CardBody","FormGroup","Form","Input","Container","Row","Col","UserHeader","Redirect","Edit_profile","Component","constructor","props","getData","fetch","response","json","result","console","log","setState","prevState","Username","email","about","address","birth_date","country","first_name","last_name","postal_code","profession","telephone","work_institution","error","onSaveChanges","method","headers","body","JSON","stringify","state","then","res","history","push","isLoaded","user","city","handleChange","bind","componentDidMount","event","target","value","name","render"],"mappings":"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","sourcesContent":["/*!\n\n=========================================================\n* Argon Dashboard React - v1.1.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/argon-dashboard-react\n* Copyright 2019 Creative Tim (https://www.creative-tim.com)\n* Licensed under MIT (https://github.com/creativetimofficial/argon-dashboard-react/blob/master/LICENSE.md)\n\n* Coded by Creative Tim\n\n=========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\n*/\nimport React from \"react\";\n\n// reactstrap components\nimport {\n  Button,\n  Card,\n  CardHeader,\n  CardBody,\n  FormGroup,\n  Form,\n  Input,\n  Container,\n  Row,\n  Col\n} from \"reactstrap\";\n// core components\nimport UserHeader from \"../../components/Headers/UserHeader.js\";\nimport {Redirect} from \"react-router-dom\";\n\nclass Edit_profile extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n        user: [],\n        Username: \"\",\n        about: \"\",\n        address: \"\",\n        birth_date: \"\",\n        city: \"\",\n        country: \"\",\n        email: \"\",\n        first_name: \"\",\n        last_name: \"\",\n        postal_code: \"\",\n        profession: \"\",\n        telephone: \"\",\n        work_institution: \"\"\n\n    }\n    this.handleChange = this.handleChange.bind(this);\n\n   }\n\n  getData = async () => {\n      try {\n           const response = await fetch(\n              `/home`\n          );\n\n          const result = await response.json();\n          console.log(result)\n          this.setState(\n              prevState => (\n                  {\n                      Username: result[\"Username\"],\n                      email:result[\"email\"],\n                      about:result[\"about\"],\n                      address:result[\"address\"],\n                      birth_date:result[\"birth_date\"],\n                      country:result[\"country\"],\n                      first_name:result[\"first_name\"],\n                      last_name:result[\"last_name\"],\n                      postal_code:result[\"postal_code\"],\n                      profession:result[\"profession\"],\n                      telephone:result[\"telephone\"],\n                      work_institution:result[\"work_institution\"],\n                  }\n              )\n          );\n      }\n    catch(e){\n         this.setState(\n             prevState => (\n                 {\n                     error: \"No accidents do Show\"\n                 }\n             )\n         );\n     }\n  }\n  componentDidMount() {\n    this.getData();\n  }\n\n  handleChange(event) {\n    const target = event.target;\n    const value = target.value;\n    const name = target.name;\n     this.setState({\n          [name]: value\n    });\n     console.log(this.state)\n\n    }\n\n   onSaveChanges = () => {\n      fetch('/update_user', {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({\n\n          Username: this.state.Username,\n          email:this.state.email,\n          about:this.state.about,\n          address:this.state.address,\n          birth_date:this.state.birth_date,\n          country:this.state.country,\n          first_name:this.state.first_name,\n          last_name:this.state.last_name,\n          postal_code:this.state.postal_code,\n          profession:this.state.profession,\n          telephone:this.state.telephone,\n          work_institution:this.state.work_institution,\n    }),\n    }).then(res => res.json())\n      .then(\n        (result) => {console.log(\"teste\")\n          console.log(result)\n          if(result['response']==\"Done\")\n            this.props.history.push(\"/admin\");\n          else{\n            this.setState({ error: result['error'] });\n\n          }\n        },\n        (error) => {\n          console.log(\"error\")\n          this.setState({\n            isLoaded: true,\n            error: \"error\"\n          });\n        }\n      )\n  }\n  render() {\n    return (\n      <>\n        <UserHeader />\n        {/* Page content */}\n        <Container className=\"mt--7\" fluid>\n          <Row>\n            <Col>\n              <Card className=\"bg-secondary shadow\">\n                <CardHeader className=\"bg-white border-0\">\n                  <Row className=\"align-items-center\">\n                    <Col xs=\"8\">\n                      <h3 className=\"mb-0\">My account</h3>\n                    </Col>\n                    {/*<Col className=\"text-right\" xs=\"4\">\n                      <Button\n                        color=\"primary\"\n                        href=\"#pablo\"\n                        onClick={e => e.preventDefault()}\n                        size=\"sm\"\n                      >\n                        Settings\n                      </Button>\n                    </Col>*/}\n                  </Row>\n                </CardHeader>\n                <CardBody>\n                  <Form>\n                    <h6 className=\"heading-small text-muted mb-4\">\n                      User information\n                    </h6>\n                    <div className=\"pl-lg-4\">\n                      <Row>\n                        <Col lg=\"6\">\n                          <FormGroup>\n                            <label\n                              className=\"form-control-label\"\n                              htmlFor=\"input-username\"\n                            >\n                              Username\n                            </label>\n                            <Input\n                              className=\"form-control-alternative\"\n                              id=\"input-username\"\n                              placeholder={this.state.Username}\n                              type=\"text\"\n                              name=\"Username\"\n                              value={this.state.Username}\n                              onChange={this.handleChange}\n                            />\n                          </FormGroup>\n                        </Col>\n                        <Col lg=\"6\">\n                          <FormGroup>\n                            <label\n                              className=\"form-control-label\"\n                              htmlFor=\"input-email\"\n                            >\n                              Email address\n                            </label>\n                            <Input\n                              className=\"form-control-alternative\"\n                              id=\"input-email\"\n                              name = \"email\"\n                              placeholder={this.state.email}\n                              type=\"email\"\n                              disabled\n                            />\n                          </FormGroup>\n                        </Col>\n                      </Row>\n                      <Row>\n                        <Col lg=\"4\">\n                          <FormGroup>\n                            <label\n                              className=\"form-control-label\"\n                              htmlFor=\"input-first-name\"\n                            >\n                              First name\n                            </label>\n                            <Input\n                              className=\"form-control-alternative\"\n                              id=\"input-first-name\"\n                              placeholder={this.state.user[\"first_name\"]}\n                              type=\"text\"\n                              name={\"first_name\"}\n                              value={this.state.user[\"first_name\"]}\n                              onChange={this.handleChange}\n                            />\n                          </FormGroup>\n                        </Col>\n                        <Col lg=\"4\">\n                          <FormGroup>\n                            <label\n                              className=\"form-control-label\"\n                              htmlFor=\"input-last-name\"\n                            >\n                              Last name\n                            </label>\n                            <Input\n                              className=\"form-control-alternative\"\n                              id=\"input-last-name\"\n                              placeholder={this.state.user[\"last_name\"]}\n                              type=\"text\"\n                              name=\"last_name\"\n                              value={this.state.user[\"last_name\"]}\n                              onChange={this.handleChange}\n                            />\n                          </FormGroup>\n                        </Col>\n                        <Col lg=\"4\">\n                          <FormGroup>\n                            <label\n                              className=\"form-control-label\"\n                              htmlFor=\"dateofbirth\"\n                            >\n                             Birth Date\n                            </label>\n                            <Input\n                              className=\"form-control-alternative\"\n                              id=\"dateofbirth\"\n                              type=\"date\"\n                              name=\"birth_date\"\n                              value={this.state.user[\"birth_date\"]}\n                              onChange={this.handleChange}\n                            />\n                          </FormGroup>\n                        </Col>\n                      </Row>\n                    </div>\n                    <hr className=\"my-4\" />\n                    {/* Address */}\n                    <h6 className=\"heading-small text-muted mb-4\">\n                      Contact information\n                    </h6>\n                    <div className=\"pl-lg-4\">\n                      <Row>\n                        <Col md=\"12\">\n                          <FormGroup>\n                            <label\n                              className=\"form-control-label\"\n                              htmlFor=\"input-address\"\n                            >\n                              Address\n                            </label>\n                            <Input\n                              className=\"form-control-alternative\"\n                              id=\"input-address\"\n                              placeholder={this.state.user[\"address\"]}\n                              type=\"text\"\n                              name=\"address\"\n                              value={this.state.user[\"address\"]}\n                              onChange={this.handleChange}\n                            />\n                          </FormGroup>\n                        </Col>\n                      </Row>\n                      <Row>\n                        <Col lg=\"4\">\n                          <FormGroup>\n                            <label\n                              className=\"form-control-label\"\n                              htmlFor=\"input-city\"\n                            >\n                              City\n                            </label>\n                            <Input\n                              className=\"form-control-alternative\"\n                              id=\"input-city\"\n                              name=\"city\"\n                              placeholder={this.state.user[\"city\"]}\n                              type=\"text\"\n                              disable\n                            />\n                          </FormGroup>\n                        </Col>\n                        <Col lg=\"4\">\n                          <FormGroup>\n                            <label\n                              className=\"form-control-label\"\n                              htmlFor=\"input-country\"\n                            >\n                              Country\n                            </label>\n                            <Input\n                              className=\"form-control-alternative\"\n                              defaultValue=\"Portugal\"\n                              id=\"input-country\"\n                              placeholder={this.state.user[\"country\"]}\n                              type=\"text\"\n                              name=\"country\"\n                              value={this.state.user[\"country\"]}\n                              onChange={this.handleChange}\n                            />\n                          </FormGroup>\n                        </Col>\n                        <Col lg=\"4\">\n                          <FormGroup>\n                            <label\n                              className=\"form-control-label\"\n                              htmlFor=\"input-country\"\n                            >\n                              Postal code\n                            </label>\n                            <Input\n                              className=\"form-control-alternative\"\n                              id=\"input-postal-code\"\n                              placeholder=\"Postal code\"\n                              type={this.state.user[\"postal_code\"]}\n                              value={this.state.user[\"postal_code\"]}\n                              name=\"postal_code\"\n                              onChange={this.handleChange}\n                            />\n                          </FormGroup>\n                        </Col>\n                      </Row>\n                      <Row>\n                        <Col lg=\"4\">\n                          <FormGroup>\n                            <label\n                              className=\"form-control-label\"\n                              htmlFor=\"input-country\"\n                            >\n                              Telephone\n                            </label>\n                            <Input\n                              className=\"form-control-alternative\"\n                              id=\"input-postal-code\"\n                              placeholder={this.state.user[\"telephone\"]}\n                              value={this.state.user[\"telephone\"]}\n                              onChange={this.handleChange}\n                              name=\"telephone\"\n                              type=\"number\"\n                            />\n                          </FormGroup>\n                        </Col>\n                      </Row>\n                    </div>\n                    <hr className=\"my-4\" />\n                    {/* Institution Info */}\n                     <h6 className=\"heading-small text-muted mb-4\">\n                      Institution\n                    </h6>\n                    <div className=\"pl-lg-4\">\n                      <Row>\n                        <Col lg=\"6\">\n                          <FormGroup>\n                            <label\n                              className=\"form-control-label\"\n                              htmlFor=\"input-username\"\n                            >\n                              Work Institution\n                            </label>\n                            <Input\n                              className=\"form-control-alternative\"\n                              id=\"input-username\"\n                              placeholder={this.state.user[\"work_institution\"]}\n                              value={this.state.user[\"work_institution\"]}\n                              onChange={this.handleChange}\n                              name=\"work_institution\"\n                              type=\"text\"\n                            />\n                          </FormGroup>\n                        </Col>\n                        <Col lg=\"6\">\n                          <FormGroup>\n                            <label\n                              className=\"form-control-label\"\n                              htmlFor=\"input-email\"\n                            >\n                              Profession\n                            </label>\n                            <Input\n                              className=\"form-control-alternative\"\n                              id=\"input-email\"\n                              placeholder={this.state.user[\"profession\"]}\n                              value={this.state.user[\"profession\"]}\n                              onChange={this.handleChange}\n                              type=\"email\"\n                              name=\"profession\"\n                            />\n                          </FormGroup>\n                        </Col>\n                      </Row>\n                    </div>\n                    <hr className=\"my-4\" />\n                    {/* Description */}\n                    <h6 className=\"heading-small text-muted mb-4\">About me</h6>\n                    <div className=\"pl-lg-4\">\n                      <FormGroup>\n                        <label>About Me</label>\n                        <Input\n                          className=\"form-control-alternative\"\n                          placeholder=\"A few words about you ...\"\n                          rows=\"4\"\n                          defaultValue={this.state.user[\"about\"]}\n                          value={this.state.user[\"about\"]}\n                          onChange={this.handleChange}\n                          type=\"textarea\"\n                          name=\"about\"\n                        />\n                      </FormGroup>\n                    </div>\n                    <div className=\"pl-lg-4\">\n                      <Row className=\"justify-content-center\">\n                        <Button\n                          color=\"info\"\n                          href=\"/#admin/user-profile\"\n                          onClick= {this.onSaveChanges}\n                        >\n                          Save Changes\n                        </Button>\n                      </Row>\n                    </div>\n                  </Form>\n                </CardBody>\n              </Card>\n            </Col>\n          </Row>\n        </Container>\n      </>\n    );\n  }\n}\n\nexport default Edit_profile;\n"]},"metadata":{},"sourceType":"module"}